{
  "updatedAt": "2025-07-13T14:32:19.000Z",
  "createdAt": "2025-07-13T10:30:34.956Z",
  "id": "4TeGumlG6puHf9dM",
  "name": "Talk with Docs in Vector Store",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -40,
        0
      ],
      "id": "3157a2b6-be6a-46a8-ae94-1459d3ce205c",
      "name": "When chat message received",
      "webhookId": "a16b57f4-e21d-470e-b8fa-02369dacd8c2"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Agent Role:\nYou are a friendly and helpful behavioral change expert, tasked with answering any questions users may have about behavioral thinking. You have access to a vector database with all the relevant knowledge. When a user asks a question, you should search this database to find the most accurate and up-to-date information and respond in a friendly, approachable tone. Be sure to add humor and use emojis to make the conversation fun and engaging. If you can not find the information in the vector database, search Wikipedia and provide the user with a link to the source.\n\nInstructions for Interaction Flow:\n\nUser Query: A user asks a question about behavioral design.\nSearch Vector Database: You search the vector database for relevant information.\nFriendly Response: Answer the user with the information you retrieved, ensuring your response is informative but also fun and light-hearted. Use jokes and emojis where appropriate to keep the conversation engaging.\n\nFriendly Tone Example:\n\nSample flow:\n\nAvailable Tools:\n\nVector Database: Use this to retrieve specific information about behavioral design.\nWikipedia: use Wikipedia to search for information that is not in the vector database and provide the user a link with the source.\nRemember, your goal is to provide accurate information while keeping the user engaged with humor, emojis, and a conversational tone.\n\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        220,
        0
      ],
      "id": "a9ce7af1-f562-47ff-8839-6eeef034ad05",
      "name": "AI Agent"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        220,
        200
      ],
      "id": "d8226a9e-c4f0-4d2e-abf1-9f08fb5a3a7c",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "pineconeIndex": {
          "__rl": true,
          "value": "testrag1536",
          "mode": "list",
          "cachedResultName": "testrag1536"
        },
        "options": {
          "pineconeNamespace": "Test"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        160,
        420
      ],
      "id": "b789c801-aa66-4e2a-abcc-7d2ce89937dc",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "pqfi8XI6ouLWAyHs",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        480,
        440
      ],
      "id": "7e9a6d31-789d-4a75-b242-ab02fd0535d0",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "BXQ4vUjtWypRq3eL",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        120,
        580
      ],
      "id": "3a55fe52-cdc3-4d42-b81b-22a04e10c407",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "BXQ4vUjtWypRq3eL",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolWikipedia",
      "typeVersion": 1,
      "position": [
        680,
        140
      ],
      "id": "04b722c7-6e3f-4826-bdd5-eff943e38070",
      "name": "Wikipedia"
    },
    {
      "parameters": {
        "description": "Call this tool when the workflow errors",
        "workflowId": {
          "__rl": true,
          "value": "5H5HL7nEZhiPffYU",
          "mode": "list",
          "cachedResultName": "Error Workflow"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        740,
        340
      ],
      "id": "64f44fb3-9229-4921-8062-b921a48965c2",
      "name": "Error Tool"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        60,
        200
      ],
      "id": "09a741e4-3fba-425e-919f-5a1c74b01a9f",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "BXQ4vUjtWypRq3eL",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "description": "Call this tool to get information about the art of designing behavior to answer the user's questions"
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1.1,
      "position": [
        360,
        220
      ],
      "id": "3232ad91-be6d-4306-a108-23fcdef9bf2b",
      "name": "Answer questions with a vector store"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Wikipedia": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Error Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Answer questions with a vector store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "232e4a92-c4e6-4a07-adb8-ccfc12a04702",
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2025-07-13T10:30:34.960Z",
      "createdAt": "2025-07-13T10:30:34.960Z",
      "role": "workflow:owner",
      "workflowId": "4TeGumlG6puHf9dM",
      "projectId": "sOkLWMWXpC3Wjh6d"
    }
  ],
  "tags": []
}